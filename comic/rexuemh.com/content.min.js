exports=async function(url,bid,cid,options){const{send}=require("http"),clientOptions={...(options&&options.clientOptions),encoding:"utf-8","x-mobile":0};stat("request");let response=await send(url,clientOptions);stat("request"),assertOK(response);let html=response.body;const{chapterImages,chapterPath,chapterImageHost,cirh,cih}=html.subRegexMap(/var chapterImages = (?<chapterImages>\[[^\]]+\]);var chapterPath = "(?<chapterPath>[^"]*)";var chapterImageHost = "(?<chapterImageHost>[^"]*)";[\S\s]*<script>function getCirh\(\)\{\s*return '(?<cirh>[^']*)';\s*\}<\/script>\s*<script>function getCih\(\)\{\s*return '(?<cih>[^']*)';/),urls=JSON.parse(chapterImages.replace(/\\/g,"")).map(_=>cirh&&/^(\/[rRzZ]\/?)/.test(_)?cirh+_:cih&&/^(\/|images?)/.test(_)?cih+_:_).map(_=>/^https?:\/\/(images\.dmzj\.com|imgsmall\.dmzj\.com)/.test(_)?cih+"/showImage.php?url="+encodeURIComponent(_):/^[a-z]\//.test(_)?cih+"/showImage.php?url="+encodeURIComponent("https://images.dmzj.com/"+_):/^(http:|https:|ftp:|^)\/\//.test(_)?_:/^(\/|images?)/.test(_)?cih+"/"+_.replace(/^\/+/,""):`${cih}/${(chapterPath+"/"+_.replace(/^\/+/,"")).replace(/^\/+/,"")}`);return {urls}};