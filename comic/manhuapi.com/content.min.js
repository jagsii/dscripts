exports=async function(url,bid,cid,options){const{send}=require("http"),clientOptions={...(options&&options.clientOptions),encoding:"utf-8","x-mobile":1};let hasNext=!0,page=1;const urls=[];do{if(50<page)break;stat("request");let response=await send(`https://m.imanhuapi.com/chapter/${cid}_${page++}.html`,clientOptions);stat("request"),assertOK(response);let html=response.body;hasNext=/<a class="pg-next" href="[^"]+\d+_\d+\.html">下一页</.test(html),urls.push(html.subRegex(/<div id="content"><p>(?:<a href="[^"]*">)?<img src="([^"]+)"/)),await delay(200);}while(hasNext);return {urls}};