exports=async function(bid,options){const{parseCatalog,cleanCatalogWrapper}=await require("transcode/parse_catalog"),url=`http://mhxqiu3.com/${bid}/`;return parseCatalog(url,null,{clientOptions:{...(options&&options.clientOptions),"x-mobile":1},parser:async html=>{const URL=require("url"),uri=new URL(url),fragment=cleanCatalogWrapper(html,/chapter-list[^>]+>/,"</div>"),result=[];fragment.subRegexMapAll(/href="(?<url>[^"]+)"[^>]*>(?:\s*<[^>]+>)+(?<name>[^<]+)</g).forEach(_=>{_.id=_.url.subRegex(/\/(\d+)\.html/),_.url=uri.resolve(_.url),result.push(_);});const args=html.subRegexMap(/gengduo[^>]+(?:\sdata-vid="(?<vid>\d+)"|\sdata-id="(?<id>\d+)"){2}/);if(args.id){const{send}=require("http"),response=await send({url:uri.resolve("/bookchapter/"),method:"POST",body:`id=${args.id}&id2=${args.vid}`,headers:{"X-Requested-With":"XMLHttpRequest",Referer:url,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json, text/javascript, */*; q=0.01"}});assertOK(response),JSON.parse(response.body).forEach(_=>{result.push({id:_.chapterid,name:_.chaptername,url:uri.resolve(`/${bid}/${_.chapterid}.html`)});});}return result.reverse()}})};