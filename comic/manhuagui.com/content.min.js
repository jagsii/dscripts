exports=async function(url,bid,cid,options){var _StringfromCharCode=String.fromCharCode;const{send}=require("http"),clientOptions={...(options&&options.clientOptions)};let response=await send(url,clientOptions);assertOK(response);let html=response.body;const args=html.subRegexMap(/}\s*\('(?<p>[^']+)',\s*(?<a>\d+),\s*(?<c>\d+),\s*'(?<k>[^']+)'(?:\.split\('|'\)|\['\\x73\\x70\\x6c\\x69\\x63']\('\\x7c'\)),\s*(?<e>\d+),\s*(?<d>\{[^}]*})/);if(!args.p)return null;const fragment=function(p,a,c,k,e,d){if(e=function(c){var _Mathtrunc=Math.trunc;return (c<a?"":e(_Mathtrunc(c/a)))+(35<(c%=a)?_StringfromCharCode(c+29):c.toString(36))},!"".replace(/^/,String)){for(;c--;)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}],e=function(){return "\\w+"},c=1;}for(;c--;)k[c]&&(p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]));return p}(args.p,parseInt(args.a),parseInt(args.c),function(input){function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++)baseReverseDic[alphabet][alphabet.charAt(i)]=i;}return baseReverseDic[alphabet][character]}if(null==input)return "";if(""==input)return null;var f=_StringfromCharCode,baseReverseDic={};return function(length,resetValue,getNextValue){var next,i,w,bits,resb,maxpower,power,c,_Mathpow=Math.pow,dictionary=[],enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],data={val:getNextValue(0),position:resetValue,index:1};for(i=0;3>i;i+=1)dictionary[i]=i;for(bits=0,maxpower=_Mathpow(2,2),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;switch(next=bits){case 0:for(bits=0,maxpower=_Mathpow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;c=f(bits);break;case 1:for(bits=0,maxpower=_Mathpow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;c=f(bits);break;case 2:return "";}for(dictionary[3]=c,w=c,result.push(c);;){if(data.index>length)return "";for(bits=0,maxpower=_Mathpow(2,numBits),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;switch(c=bits){case 0:for(bits=0,maxpower=_Mathpow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 1:for(bits=0,maxpower=_Mathpow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(0<resb?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 2:return result.join("");}if(0==enlargeIn&&(enlargeIn=_Mathpow(2,numBits),numBits++),dictionary[c])entry=dictionary[c];else if(c===dictSize)entry=w+w.charAt(0);else return null;result.push(entry),dictionary[dictSize++]=w+entry.charAt(0),enlargeIn--,w=entry,0==enlargeIn&&(enlargeIn=_Mathpow(2,numBits),numBits++);}}(input.length,32,function(index){return getBaseValue("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",input.charAt(index))})}(args.k).split("|"),void 0,JSON.parse(args.d)),json=JSON.parse(fragment.substring(fragment.indexOf("{"),fragment.lastIndexOf("}")+1)),_sl=[];for(let o in json.sl)json.sl.hasOwnProperty(o)&&_sl.push(`${o}=${json.sl[o]}`);const sl=0<_sl.length?"?"+_sl.join("&"):"",URL=require("url"),uri=new URL(url),filePath=`${uri.protocol}//${"i"}.hamreus.com${json.path}`,urls=json.files.map(_=>filePath+_+sl);return {urls}};