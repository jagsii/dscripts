exports=async function(bid,options){const{parseCatalog,cleanCatalogWrapper}=await require("transcode/parse_catalog"),url=`http://m.kumw6.com/${bid}/`;return parseCatalog(url,null,{clientOptions:{...(options&&options.clientOptions),"x-mobile":1},parser:async html=>{const URL=require("url"),uri=new URL(url),fragment=cleanCatalogWrapper(html,/class="chapters"[^>]*>/,"</ul>"),result=[];fragment.subRegexMapAll(/href="(?<url>[^"]+)"[^>]*>(?<name>[^<]+)</g).forEach(_=>{_.id=_.url.subRegex(/\/(\d+)\.html/),_.url=uri.resolve(_.url),result.push(_);});const arg=html.subRegex(/chapter-more[^>]+data-cid="(\d+)"/);if(arg){const{send}=require("http"),response=await send({url:uri.resolve(`/chapterlist/${bid}/${arg}/`),headers:{"X-Requested-With":"XMLHttpRequest",Referer:url}});assertOK(response),JSON.parse(response.body).data.list.forEach(_=>{result.push({id:_.id,name:_.name,url:uri.resolve(`/${bid}/${_.id}.html`)});});}return result.reverse()}})};