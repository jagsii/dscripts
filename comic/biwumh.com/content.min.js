exports=async function(url,bid,cid,options){function parseHtml(html){let fragment=html.substring(html.indexOf("id=\"TextContent\""));fragment=fragment.substring(0,fragment.indexOf("</div>"));const images=fragment.subRegexAll(imagesRegex);return hasNext=hasNextRegex.test(html),images}const{send}=require("http"),URL=require("url"),clientOptions={...(options&&options.clientOptions)},imagesRegex=/data-original="([^"]+)"/g,hasNextRegex=/href="\/\d+\/\d+_\d+\.html"[^>]*>下一页/;let response,hasNext=!0,page=1;const urls=[],uri=new URL(url);for(;hasNext&&100>page;)response=await send(1===page?url:url.replace(".html",`_${page}.html`),clientOptions),page++,assertOK(response),urls.push(...parseHtml(response.body).map(_=>uri.resolve(_))),await delay(500);return {urls}};