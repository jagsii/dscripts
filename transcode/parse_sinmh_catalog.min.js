async function parseCatalog(a,b){const c={url:a,...b.httpOptions},d={encoding:"utf-8",...b.clientOptions},e=require("utils/absolute_url");let f;if(b.webview){const c=require("webview_fetch");f=await c(a,{mobile:1===d["x-mobile"],...b.webviewOptions});}else {const{send:e}=require("http");stat("request");let g=await e(c,d);if(stat("request"),null!=b.retry&&(g=await handleRequestRetry(g,c,d,e,b.retry)),b.fallbackToWebview&&b.fallbackToWebview(g)){const c=require("webview_fetch");f=await c(a,{mobile:1===d["x-mobile"],...b.webviewOptions});}else assertOK(g),f=g.body;}stat("parseRegex");stat("parseRegex");stat("fragment");let g=/<ul id="chapter-list-[^>]*>(?<fragment>(?:\s*<li>\s*<a[^>]*>\s*<span>[^<]*<\/span>\s*<\/a>\s*<\/li>)+)/.exec(f).groups.fragment;stat("fragment"),stat("matchAll");const h=g.matchAll(/href="(?<url>[^"]+\d+\.html)"[^>]*>\s*<span>(?<name>[^<]+)</g);stat("matchAll");const i=[];stat("collect");for(let c of h)if(null!=c.groups.name){const b=/(?<id>\d+)\.html/.exec(c.groups.url).groups.id,d={id:b,name:c.groups.name,url:e(c.groups.url,a)};i.push(d);}return stat("collect"),formatCatalog(i)}exports.parseCatalog=parseCatalog;