async function parseCatalog(a,b,c){const{send:d}=require("http");c=c||{};const e={encoding:"utf-8",...c.clientOptions},f=`${b}/files/${a.idPrefix()}/${a}/${a}.json?cdnversions=${Math.ceil(new Date().getTime()/3e5)}`;let g;if(c.webview){const a=require("webview_fetch");g=await a(f,{mobile:1===e["x-mobile"],...c.webviewOptions});}else {const a={url:f,...c.httpOptions},b=await d(a,e);if(200>b.statusCode||299<b.statusCode)throw new Error(`Request failed with statusCode ${b.statusCode}, ${b.reasonPhrase}`);g=b.body;}const h=JSON.parse(g),i=h.info.articleid+"",j=i.idPrefix(),k=c.ssid||"555";return formatCatalog(h.list.map(c=>({id:c.chapterid+"",name:c.chaptername.trim(),url:`${b}/chapter.html?${a}#mybookid=${a}&bookid=${i}&chapterid=${c.chapterid}&url=${b}/files/article/html${k}/${j}/${i}/${c.chapterid}.html`})))}exports.parseCatalog=parseCatalog;