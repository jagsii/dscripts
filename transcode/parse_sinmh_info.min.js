async function parseInfo(originName,url,options){options=options||{};const httpOptions={url,...options.httpOptions},clientOptions={encoding:"utf-8","x-mobile":1,...options.clientOptions},absoluteUrl=require("utils/absolute_url");let html;if(options.webview){const webviewFetch=require("webview_fetch");html=await webviewFetch(url,{mobile:1===clientOptions["x-mobile"],...options.webviewOptions});}else {const{send}=require("http");stat("request");let response=await send(httpOptions,clientOptions);if(stat("request"),options.fallbackToWebview&&options.fallbackToWebview(response)){const webviewFetch=require("webview_fetch");html=await webviewFetch(url,{mobile:1===clientOptions["x-mobile"],...options.webviewOptions});}else assertOK(response),html=response.body;}const result={url,originName,name:"",author:"",cover:"",serial:0,intro:""};stat("collect");const matches={};for(let re of [/id="comicName">(?<name>[^<]+)</,/id="Cover">\s*<img src="(?<cover>[^"]*)"[^>]*>\s*<\/div>\s*<div class="sub_r autoHeight">\s*<p class="txtItme">\s*<span class="icon icon01"><\/span>(?<author>[^<]*)</,/(?<serial>已完结)<\/a>\s*<\/p>\s*<p class="txtItme">/,/"txtDesc[^>]*>(?:介绍:)?(?<intro>[^<]*)<\/p>(?:\s*<p class="openBtn"><\/p>)?\s*<div/])Object.assign(matches,html.subRegexMap(re));return void 0!==matches.name&&(result.name=matches.name.trim()),void 0!==matches.author&&(result.author=matches.author.trim()),void 0!==matches.cover&&(result.cover=absoluteUrl(matches.cover.trim(),url)),void 0!==matches.serial&&(result.serial=-1===matches.serial.indexOf("\u5B8C\u7ED3")?0:1),void 0!==matches.intro&&(result.intro=matches.intro.replace(/^漫画简介：/,"").trim()),stat("collect"),null!=options.postprocess&&options.postprocess(html,result),formatInfo(result)}exports.parseInfo=parseInfo;