exports=async function(bid,options){const url=`http://www.ranwen6.com/txt/${bid}/`,{send}=require("http"),URL=require("url"),uri=new URL(url);let response=await send(url,options?.clientOptions);assertOK(response);let html=response.body;const args=html.subRegexMap(/\$\.ajax\({[^<]+url:\s*'(?<url>[^']+)',\s*data:\s*{\s*'action':\s*'(?<action>[^']+)',\s*'xsid':\s*'(?<xsid>[^']+)'}/);if(!args)return null;response=await send({url:uri.resolve(args.url),method:"POST",body:`action=${args.action}&xsid=${args.xsid}`,headers:{"X-Requested-With":"XMLHttpRequest",Referer:url,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),assertOK(response),html=response.body;const result=[];for(let _ of html.subRegexMapAll(/href=['"](?<url>[^'"]+)['"][^>]*>(?<name>[^<]+)</g)){const id=_.url.subRegex(/(\d+)\.htm/);id&&(_.id=id,_.url=uri.resolve(_.url),result.push(_));}return formatCatalog(result)};