exports=async function(bid,options){const{parseCatalog,hrefRecordRegex}=await require("transcode/parse_catalog"),url=`http://www.uuxs5.cc/r${bid}/`;return parseCatalog(url,null,{clientOptions:{...(options&&options.clientOptions)},parser:async html=>{const URL=require("url"),uri=new URL(url);let pos;const result=[];for(;-1!==(pos=html.indexOf("class=\"dirtitone\""));){html=html.substring(pos+17);let volume=html.subRegex(/<h2[^>]*>([^<]+)</).trim();if(volume.endsWith("\u6700\u65B0\u7AE0\u8282"))continue;html=html.substring(html.indexOf("<ul>"));let fragment=html.substring(0,html.indexOf("</ul>"));const list=fragment.subRegexMapAll(hrefRecordRegex);if(0!==list.length)for(let _ of list){const id=_.url.subRegex(/(\d+)\.html/);id&&(_.id=id,_.url=uri.resolve(_.url),_.volume=volume,result.push(_));}}return result}})};