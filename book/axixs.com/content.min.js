exports=async function(url,bid,cid,options){const{parseContent}=await require("transcode/parse_content"),replacePinYin=await require("transcode/pinyin_map");let nextChapter;return parseContent(url,"div.content",{clientOptions:{...(options&&options.clientOptions),encoding:"gbk"},preprocess:html=>{const nextUrl=html.subRegex(/(\/axixs\.asp\?id=\d+)['"][^>]*>下一章</);if(nextUrl){const absoluteUrl=require("utils/absolute_url");nextChapter={id:nextUrl.subRegex(/axixs\.asp\?id=(\d+)/),name:"",url:absoluteUrl(nextUrl,url)};}return replacePinYin(html,/<img src="axi\/(\w+)\.jpg">/g)}}).then(_=>nextChapter?{content:_,nextChapter}:_)};