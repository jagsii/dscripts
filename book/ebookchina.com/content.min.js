exports=async function(url,bid,cid,options){const md5=require("crypto/md5"),hex=require("crypto/hex/encode"),base64Decode=require("crypto/base64/decode"),aesDecrypt=require("crypto/aes/decrypt"),encode=require("crypto/encode"),decode=require("crypto/decode"),{parseContent}=await require("transcode/parse_content");return parseContent(url,null,{clientOptions:{...(options&&options.clientOptions)},preprocess:raw=>{let{content,key}=raw.subRegexMap(/'\)\.html\(d\("(?<content>[^"]+)", "(?<key>[^"]+)"\)\);/);key=hex(md5(key)),content=content.replace(/\\\//g,"/");let array=base64Decode(content);return array=aesDecrypt(array,encode(key.substring(16),"latin1"),{iv:encode(key.substring(0,16),"latin1"),mode:"CBC",padding:"PKCS7"}),content=decode(array,"utf-8"),content}})};