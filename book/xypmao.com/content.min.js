exports=async function(url,bid,cid,options){const{parseContentPaginate,trimContentFragment}=await require("transcode/parse_content");return parseContentPaginate(page=>1===page?url:url.replace(".html",`_${page}.html`),{cleaner:html=>trimContentFragment(html,/book-detail-content[^"]*"[^>]*>/)},{clientOptions:{...(options&&options.clientOptions)},hasNextFn:html=>null!=/href=['"](?:https?:\/\/www\.xypmao\.com)?\/chapter\/\d+_\d+\.html['"][^>]*>下一页/.exec(html)}).then(_=>{if(5<_.length){-1!==_.first.indexOf("\u63D0\u9192\u4E66\u53CB\u8C28\u8BB0\uFF1A")&&_.shift(),/一秒记住.+永不丢失/.test(_.first)&&_.shift();for(let i=_.length-1;i>_.length-5;i--)if(/求书，报错以及求更请留言/.test(_[i])){_.splice(i,1);break}for(let i=_.length-1;i>_.length-5;i--)if(-1!==_[i].indexOf("\u8BF7\u628A\u672C\u7AD9\u5206\u4EAB\u7ED9\u4F60\u4EEC\u7684\u597D\u53CB")){_.splice(i,1);break}}return _})};