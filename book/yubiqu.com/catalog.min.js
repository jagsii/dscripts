exports=async function(bid,options){const{parseCatalogPaginate}=await require("transcode/parse_catalog"),clientOptions={...(options&&options.clientOptions),"x-mobile":1},base=`http://www.yubiqu.com/chapterlist/${bid}/`,URL=require("url"),uri=new URL(base);return parseCatalogPaginate(page=>`${base}${page}`,null,{...options,httpOptions:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Referer:base}},clientOptions,pageSize:20,totalPagesRegex:/"last_page"\s*:\s*(?<totalPages>\d+)/,parser:html=>{const json=JSON.parse(html);return json.chapters.map(_=>({id:_.bid+"",name:_.name,url:uri.resolve(`/book/${bid}/${_.bid}`)}))}})};