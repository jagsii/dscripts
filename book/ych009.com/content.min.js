exports=async function(url,bid,cid,options){const{parseContentPaginate,trimContentFragment}=await require("transcode/parse_content"),base64Decode=require("crypto/base64/decode"),decode=require("crypto/decode");return parseContentPaginate(page=>1===page?url:url.replace(".html",`_${page}.html`),null,{clientOptions:{...(options&&options.clientOptions)},hasNextFn:html=>null!=/id="next_url" [^>]*href="[^"]*\/[a-z\d]+\/[a-z\d]+_\d+\.html"[^>]*>下一页/.exec(html),parser:html=>{let fragment=trimContentFragment(html,/id="chapter"[^>]*>/);fragment=fragment.replace(/\[[^\]]+]/,"");const matcher=/_ii_rr\('([^']+)'\)/.exec(html);if(matcher){const arrays=decode(base64Decode(matcher[1]),"utf-8").split(",").map(_=>parseInt(_)),datas=fragment.split("<br><br>"),result=[],el=arrays[0],len=datas.length;for(let i=1;i<=len;i++)result.push(datas[arrays[i]-el].trim());return result}return fragment.split("<br>").map(_=>_.trim()).filter(_=>0<_.length)}})};