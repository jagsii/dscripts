exports=async function(a,b,c,d){const{parseContent:e,trimContentFragment:f,extractFragment:g,collectLines:h}=await require("transcode/parse_content");return e(a,null,{clientOptions:{...(d&&d.clientOptions)},parser:async b=>{let c=await g(b,{cleaner:a=>f(a,/id="content"[^>]*>/)});const d=b.subRegexMap(/onclick="load_more\('(?<b>\d+)','(?<c>\d+)'\)"/);if(d.b){const{send:e}=require("http"),f=require("utils/absolute_url"),g=b.subRegex(/callback\s*=\s*['"]([^'"\s+]+)['"]/),i=await e({url:f(`/index.php?c=book&a=content.jsonp&callback=${g}&book_id=${d.b}&id=${d.c}&b=${function(a){for(var b=Math.trunc,c="PXhw7UT1B0a9kQDKZsjIASmOezxYG4CHo5Jyfg2b8FLpEvRr3WtVnlqMidu6cN",d="",e=0;e<a.length;e++){var f=c.indexOf(a[e]),g=-1==f?a[e]:c[(f+3)%62],h=b(62*Math.random()),j=b(62*Math.random());d+=c[h]+g+c[j];}return d}(g)}`,a),headers:{referer:a}});assertOK(i);const j=i.body,h=JSON.parse(j.substring(j.indexOf("{"),j.lastIndexOf("}")+1));c+=h.content.replace(/<!--[^>]+-->/g,"");}const e=[];return h(c,e),e}})};