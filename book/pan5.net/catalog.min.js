exports=async function(bid,options){const{parseCatalog,cleanCatalogWrapper}=await require("transcode/parse_catalog"),url=`https://www.pan5.la/view/${bid.idPrefix()}/${bid}/`;return parseCatalog(url,{cleaner:html=>cleanCatalogWrapper(html,/id="listsss">/,"</ul>"),recordRegex:/href="(?<url>[^"]+)"[^>]*>(?<name>[^<]+)</g},{clientOptions:{...(options&&options.clientOptions)},transformer:fragment=>-1===fragment.indexOf("data-id=\"")?fragment:fragment.subRegexMapAll(/<div data-id="(?<order>\d+)">(?<content>.+?)<\/div>/g).map(_=>({order:parseInt(_.order),content:_.content})).sort((a,b)=>a.order-b.order).map(_=>_.content).join("\n")})};