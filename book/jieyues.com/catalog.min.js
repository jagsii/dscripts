exports=async function(bid,options){const{parseCatalog,parseCatalogPaginate}=await require("transcode/parse_catalog"),{retry}=await require("book/jieyues.com/common"),[host,_bid,chapter_prefix]=bid.split("|"),clientOptions={...(options&&options.clientOptions),"x-mobile":1,followCookies:!0},parser=async html=>{const result=[],{parse}=require("dom"),doc=parse(html),list=doc.querySelectorAll("#list ul>li>a"),length=list.length;for(let i=0;i<length;i++){const item=list.item(i),href=item.getAttribute("href")?.trim()??"",name=item.textContent?.trim()??"";if(!href||!name)continue;const id=/(?<id>\d+)\.s?html?/.exec(href).groups.id;result.push({id,name,url:href});}return result};return ""===chapter_prefix?parseCatalog(`https://m.${host}/${_bid}.html`,"dom",{clientOptions,retry,parser}):parseCatalogPaginate(page=>`https://m.${host}/${_bid}${chapter_prefix}_${page}.html`,"dom",{...options,clientOptions,retry,parser,pageSize:60,totalPagesRegex:/<a href="[^"]+_(?<totalPages>\d+)\.html">尾页</})};