exports=async function(a,b){const{parseUpdate:c}=await require("transcode/parse_update"),{toChar:d,retry:e}=await require("book/jieyues.com/common"),f=require("datetime/parse_date"),[g,h]=a.split("|");return c(`https://m.${g}/${h}.html`,"dom",{clientOptions:{...(b&&b.clientOptions),followCookies:!0},retry:e,preprocess:a=>a.replace(/<font class=['"]?(y\d+)['"]?>&#x([a-zA-Z\d]+);<\/font>/g,(a,b,c)=>d(b,c)??"\uFF1F"),parser:async(a,b)=>{const{parse:c}=require("dom"),d=c(a);b.name=d.querySelector(".newestChapter a")?.textContent?.trim()??d.querySelector("meta[property=\"og:novel:latest_chapter_name\"]")?.getAttribute("content")?.trim()??"",0<b.name.length&&(b.name=b.name.replace(/(\d+\s?(?:[章节篇]|部分)) .+/,(a,b)=>b));let e=d.querySelector(".time span")?.textContent?.trim();e||(e=d.querySelector("meta[property=\"og:novel:update_time\"]")?.getAttribute("content")?.trim()),e&&(b.updateTime=f(e));}})};