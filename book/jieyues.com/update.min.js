exports=async function(bid,options){const{parseUpdate}=await require("transcode/parse_update"),{toChar,retry}=await require("book/jieyues.com/common"),[host,_bid]=bid.split("|");return parseUpdate(`https://m.${host}/${_bid}.html`,"dom",{clientOptions:{...(options&&options.clientOptions),followCookies:!0},retry,preprocess:html=>html.replace(/<font class=['"]?(y\d+)['"]?>&#x([a-zA-Z\d]+);<\/font>/g,(_,f,u)=>toChar(f,u)??"\uFF1F"),parser:async(html,result)=>{const{parse}=require("dom"),doc=parse(html);result.name=doc.querySelector(".newestChapter a")?.textContent?.trim()??doc.querySelector("meta[property=\"og:novel:latest_chapter_name\"]")?.getAttribute("content")?.trim()??"",0<result.name.length&&(result.name=result.name.replace(/(\d+\s?(?:[章节篇]|部分)) .+/,(_,s)=>s));let time=doc.querySelector(".time span")?.textContent?.trim();time||(time=doc.querySelector("meta[property=\"og:novel:update_time\"]")?.getAttribute("content")?.trim()),time&&(result.updateTime=parseDate(time));}})};