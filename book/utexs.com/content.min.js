exports=async function(a,b,c,d){const{parseContent:e,collectLines:f}=await require("transcode/parse_content"),g=await require("transcode/pinyin_map"),h={...(d&&d.clientOptions),encoding:"gbk"};return e(a,null,{clientOptions:h,parser:async b=>{let c=b.indexOf("class=\"content\"");if(-1===c)return null;let d=b.substring(c);d=g(d.substring(d.indexOf(">")+1),/<img src="ute\/(\w+)\.jpg">/g),d=d.substring(0,d.indexOf("</td"));const e=d.subRegex(/src="(\/utex\.asp\?bid=\d+&id=\d+)"/);if(c=d.indexOf("<<a"),-1!==c&&(d=d.substring(0,c)),c=d.indexOf("<script"),-1!==c&&(d=d.substring(0,c)),e){const{send:b}=require("http"),c=require("utils/absolute_url"),f=await b({url:c(e,a),headers:{Referer:a}},h);assertOK(f);const g=f.body,i=g.substring(g.indexOf("(\"")+2,g.lastIndexOf("\")"));d+=i;}const i=[];return f(d,i),i}})};