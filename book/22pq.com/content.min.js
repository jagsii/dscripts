exports=async function(url,bid,cid,options){const{parseContent,trimBeforeContent}=await require("transcode/parse_content");return parseContent(url,null,{...options,parser:function(html){let fragment=html.substring(html.indexOf("id=\"content\"")).replace(/^[^>]*>\s*(?:<div[^>]*>.+?<\/div>)?/,"");fragment=fragment.substring(0,fragment.indexOf("</div>"));const matches=fragment.matchAll(/<p data-id="(?<id>\d+)"[^>]*>(?<inner>(?:[^<]|<br\s*\/?>)*)<\/p>/g),records=[];for(let m of matches)records.push([parseInt(m.groups.id),m.groups.inner.replace(/<br ?\/?>/g,"\n")]);return records.sort((a,b)=>a[0]-b[0]).map(_=>_[1]).flat()}})};