exports=async function(bid,options){const{parseCatalogPaginate}=await require("transcode/parse_catalog"),clientOptions={...(options&&options.clientOptions)},base="http://www.yaxindalian.com";let p,skipBegin=[],skipEnd=[];return parseCatalogPaginate(page=>(p=page,1===page?base+(bid.startsWith("s")?`/infos/${bid.substring(1)}/`:`/info/${bid}/`):base+(bid.startsWith("s")?`/infos/${bid.substring(1)}/${page-1}/`:`/mulu/${bid}/${page-1}/`)),".section-list",{...options,clientOptions,pageSize:100,totalPagesRegex:html=>{if(1===p)return /href="\/(?:mulu|infos)\/\d+\/1\/" class="btn-mulu"/.test(html)?2:1;const _=html.subRegex(/value="\/(?:mulu|infos)\/\d+\/(?<totalPages>\d+)\/">第\d+-\d+章<\/option><\/select/);return _?parseInt(_)+1:1},totalPagesOffset:1,totalPagesTryPage:2,preprocess:raw=>{for(let i of raw.subRegexAll(/\.section-list>li:nth-child\((\d+)\){display:none}/g))skipBegin.push(parseInt(i));for(let i of raw.subRegexAll(/\.section-list>li:nth-last-child\((\d+)\){display:none}/g))skipEnd.push(parseInt(i));return raw}}).then(_=>{if(0<skipBegin.length)for(let i of skipBegin)_.catalog[i-1]=null;if(0<skipEnd.length){let length=_.catalog.length;for(let i of skipEnd)_.catalog[length-i]=null;}return (0<skipBegin.length||0<skipEnd.length)&&(_.catalog=_.catalog.filter(__=>null!=__)),_})};