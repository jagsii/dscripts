exports=async function(bid,options){const{parseCatalog}=await require("transcode/parse_catalog");return parseCatalog(`http://www.bwsk.com/${bid}/index.html`,{recordRegex:/HREF="(?<url>[^"]*\d+\.htm)"[^>]*>(?<name>.+)<\/A>|<TD[^>]*>\s*<CENTER>(?:\s*<\/?[bfs][^>]*>)*(?<column>[^<>]+)(?:\s*<\/?[bfs][^>]*>)*\s*<\/CENTER>/ig},{clientOptions:{...(options&&options.clientOptions),encoding:"gbk"},preprocess:html=>{const m=Array.from(html.matchAll(/(<TABLE[^>]*>(?:\s*<TR>(?:\s*<TD[^>]*>[\S\s]+?<\/TD>\s*)+<\/TR>\s*)+<\/TABLE>)/ig));let found="";for(let h of m)/<SCRIPT/i.test(h[1])||/(?:<CENTER>\s*)?<A[^>]* HREF="[^"]*\d+\.htm"[^>]*>.+<\/A>(?:\s*<\/CENTER>)?/i.test(h[1])&&(found=h[1]);return found}})};