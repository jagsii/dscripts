exports=async function(bid,options){const{parseCatalog,cleanCatalogWrapper,hrefRecordRegex}=await require("transcode/parse_catalog"),url=`http://www.bashuku.com/yuedu/${bid.idPrefix()}/${bid}/`;return parseCatalog(url,{cleaner:html=>cleanCatalogWrapper(html,/id="newlist"[^>]*>/,"</ul>"),recordRegex:hrefRecordRegex},{clientOptions:{...(options&&options.clientOptions)},transformer:f=>f.subRegexMapAll(/<div [^>]*data-id="(?<sort>\d+)"[^>]*>(?<a>(?:<\/?(?:a|dd)[^>]*>|[^<])+)<\/div>/g).map(_=>(_.sort=parseInt(_.sort),_)).sort((a,b)=>a.sort-b.sort).map(_=>_.a).join("\n")})};