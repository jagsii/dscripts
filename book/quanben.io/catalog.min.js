exports=async function(a,b){const{parseCatalog:c,cleanCatalogWrapper:d}=await require("transcode/parse_catalog"),e=`https://www.quanben.io/n/${a}/list.html`,f=require("url"),g=new f(e);return c(e,null,{clientOptions:{...(b&&b.clientOptions)},parser:async a=>{const b=/<a href="javascript:[^"]+" [^>]*onclick="load_more\('(\d+)'\)">[^<]+<\/a>/,c=a.subRegex(b);if(c){const d=a.subRegex(/callback\s*=\s*['"]([^'"\s+]+)['"]/),{send:f}=require("http"),i=await f({url:g.resolve(`/index.php?c=book&a=list.jsonp&callback=${d}&book_id=${c}&b=${function(a){for(var b=Math.trunc,c="PXhw7UT1B0a9kQDKZsjIASmOezxYG4CHo5Jyfg2b8FLpEvRr3WtVnlqMidu6cN",d="",e=0;e<a.length;e++){var f=c.indexOf(a[e]),g=-1==f?a[e]:c[(f+3)%62],h=b(62*Math.random()),j=b(62*Math.random());d+=c[h]+g+c[j];}return d}(d)}`),headers:{referer:e}});assertOK(i);const j=i.body,h=JSON.parse(j.substring(j.indexOf("{"),j.lastIndexOf("}")+1));a=a.replace(b,h.content);}const f=d(a,/class="list3"[^>]*>/,"class=\"footer\""),h=f.subRegexMapAll(/href=['"](?<url>[^'"]+)['"][^>]*>(?:\s*<span[^>]*>)?(?<name>[^<]+)</g),i=[];for(let b of h)b.name&&b.url&&(b.id=b.url.subRegex(/(\d+)\.html/),!!b.id)&&(b.url=g.resolve(b.url),i.push(b));return i}})};