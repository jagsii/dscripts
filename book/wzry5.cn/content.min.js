exports=async function(a,b,c,d){const e=(await require("third-party/crypto-js"))(["md5","hmac","aes"]),{send:f}=require("http");let g=e.HmacMD5(c,VM_AGENT).toString();let h=await f({url:`https://www.wzry5.cn/read/Content/${c}.js?token=${g}`,headers:{Referer:"https://www.wzry5.cn/load.html"}},d?.clientOptions);assertOK(h);let i=h.body;const j=e.AES.decrypt(i,e.enc.Utf8.parse(g.substr(0,16)),{iv:e.enc.Utf8.parse(g.substr(16)),mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString(e.enc.Utf8),k=`https://ebooktxt.oss-cn-shenzhen.aliyuncs.com${j}&t=${new Date().valueOf()}`;h=await f({url:k,headers:{Referer:"https://www.wzry5.cn/"}},{...d?.clientOptions,encoding:"gbk"}),assertOK(h),i=h.body;const l=[],m=i.split("\n");for(let e=0;e<m.length;e++){if((3>e||e>m.length-3)&&/^.{10,100}(net|cn|com|org|http|手打|http|域名|www|刷新|订阅|首发|网址|公众号|微信|APP|笔趣阁|顶点|小说|新书).{10,100}$/ig.test(m[e]))continue;const a=m[e].replace(/[\s ]/ig,"").split("\u3002");if(1==a.length)l.push(a[0]);else {let b="";for(let c=0;c<a.length;c++)b+=a[c],c<a.length-1&&(b+="\u3002"),(100<b.length||c==a.length-1)&&(l.push(b),b="");}}return formatBookContent(l)};