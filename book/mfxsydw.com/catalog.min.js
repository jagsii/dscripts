exports=async function(a,b){const{parseCatalog:c,cleanCatalogWrapper:d}=await require("transcode/parse_catalog"),e=`http://www.mfxsydw.com/book/${a}.html`,f={...(b&&b.clientOptions)};return c(e,null,{clientOptions:f,parser:async b=>{const c=require("url"),g=new c(e);let h=d(b,/目录<\/span><\/h2>\s*<ul class="list"[^>]*>/,"</ul>");if(-1!==b.indexOf(`onclick="load_more('${a}')"`)){const c=b.subRegex(/var callback='([^']+)';/),{send:d}=require("http"),i=await d({url:g.resolve(`/index.php?c=book&a=show.jsonp&callback=${c}&book_id=${a}&b=${function(a){var b=Math.trunc;const c="PXhw7UT1B0a9kQDKZsjIASmOezxYG4CHo5Jyfg2b8FLpEvRr3WtVnlqMidu6cN";let d=[];for(let e=0;e<a.length;e++){const f=c.indexOf(a[e]);let g=-1==f?a[e]:c[(f+3)%62];const h=b(62*Math.random()),i=b(62*Math.random());d.push(c[h]+g+c[i]);}return d.join("")}(c)}`),headers:{Referer:e}},f);assertOK(i);const j=i.body,k=j.replace(/[^(]+\(/,"").replace(/\);\s*$/,"").trim(),l=JSON.parse(k);h+=l.content;}const i=[],j=h.matchAll(/href="(?<url>[^"]+)"[^>]*>\s*<span[^>]*>(?<name>[^<]+)</g);for(let a of j){const b=/(?<id>\d+)\.html/.exec(a.groups.url).groups.id;i.push({id:b,name:a.groups.name,url:g.resolve(a.groups.url)});}return i}})};