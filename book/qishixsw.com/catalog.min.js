exports=async function(bid,options){const{parseCatalogPaginate,cleanDescendingNewest}=await require("transcode/parse_catalog"),clientOptions={...(options&&options.clientOptions)};let p;return parseCatalogPaginate(page=>(p=page,`https://www.qishixsw.com/${bid.idPrefix()}_${bid}/${1===page?"":page-1+"/"}`),"div#list>dl>dd",{...options,clientOptions,pageSize:100,totalPagesRegex:html=>{if(1===p)return /href="\/\d+_\d+\/1\/"[^>]*>[^<]*查看《[^》]+》更多章节列表/.test(html)?2:1;const _=html.subRegex(/正文目录<\/b>（第\d+页\/共(\d+)页）/);return _?parseInt(_):2},totalPagesTryPage:2,transformer:fragment=>fragment.replace(/href="\/\d+_\d+\/">返回[^<]+<\/a>/,"")}).then(_=>(_.catalog=cleanDescendingNewest(_.catalog),_))};