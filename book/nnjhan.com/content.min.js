exports=async function(url,bid,cid,options){const{parseContentPaginate,trimContentFragment}=await require("transcode/parse_content");return parseContentPaginate(page=>1===page?url:url.replace(".html",`_${page}.html`),{cleaner:html=>trimContentFragment(html,/chapter_content[^>]+>/)},{clientOptions:{...(options&&options.clientOptions)},hasNextFn:html=>null!=/id="next_page" href="\/book\/\d+\/\d+_\d+\.html"/.exec(html),transformer:f=>f.replace(/<p>[^<]+\(第\d+\/\d+页\)<\/p>/,"").replace(/<p [^>]*class="chapter-end"[^>]*>[^<]+<\/p>/,"")})};