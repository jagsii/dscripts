exports=async function(a,b){const{parseCatalog:c,cleanCatalogWrapper:d}=await require("transcode/parse_catalog"),e=`https://www.qb5.io/xs-${a}/`;return c(e,{cleaner:a=>d(a,/<ul [^>]*class="list"[^>]*>/,"class=\"footer\"").toLastIndexOf("</ul>"),recordRegex:/href=['"](?<url>[^'"]+)['"][^>]*>(?:\s*<span>)?(?<name>[^<]+)</g},{clientOptions:{...(b&&b.clientOptions)},preprocess:async c=>{var d=Math.trunc;const f=c.indexOf(" onclick=\"load_more(");if(-1!==f){const h=c.subRegex(/var staticchars=['"]([^'"]+)['"]/),i=c.subRegex(/var callback=['"]([^'"]+)['"]/),n=i;for(var g,j="",k=0;k<n.length;k++){g=h.indexOf(n[k]);let a=-1==g?n[k]:h[(g+3)%62];var l=d(62*Math.random()),m=d(62*Math.random());j+=h[l]+a+h[m];}const o=await getHtml({url:`https://www.qb5.io/?c=xs&a=list.json&callback=${i}&book_id=${a}&b=${j}`,headers:{referer:e}},b?.clientOptions),p=o.substring(o.indexOf("(")+1,o.lastIndexOf(")"));c=c.substring(0,f)+JSON.parse(p).content+c.substring(f);}return c}})};