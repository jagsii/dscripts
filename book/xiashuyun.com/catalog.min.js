exports=async function(a,b){const{send:c}=require("http"),d=require("url"),e=`https://www.xiashuyun.com/${a}/`,f={encoding:"utf-8",...b.clientOptions};let g=await c(e,f);assertOK(g);let h=g.body;const i=h.subRegexMap(/onClick="loadzj\((?<bid>\d+),(?<num>\d+),'(?<order>[^']*)'\)/),j=new d(e);g=await c({url:j.resolve(`/api/ajax/zj?id=${i.bid}&num=${i.num}&order=${i.order}`),headers:{Referer:e}},f),assertOK(g);const k=g.body,l=h.indexOf("<ul id=\"toplist\">"),m=h.indexOf("</ul>",l),n=h.substring(l,m),o=h.indexOf("<ul id=\"lastchapter\">")+21,p=h.indexOf("</ul>",o),q=h.substring(o,p),r=(n+k+q).matchAll(/href="(?<url>[^"]+)"[^>]*>(?<name>[^<]+)</g),s=[];for(let c of r){const a=c.groups.url,b=/(?<id>\d+)\.html/.exec(a).groups.id,d={id:b,name:c.groups.name,url:j.resolve(a)};s.push(d);}return formatCatalog(s)};