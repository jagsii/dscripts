exports=async function(a,b){const{parseCatalogPaginate:c}=await require("transcode/parse_catalog"),d={...(b&&b.clientOptions)};let e,f=[],g=[];const h=40;return c(b=>`https://www.qudushu.cc/book/${a}/${1===b?"":b-1+"/"}`,{fragmentRegex:/<ul class="[^"]*section-list[^"]*">(?<fragment>(?:\s*<li>\s*<a[^>]*>[^<]*<\/a>\s*<\/li>)+)/g,fragmentIndex:-1,recordRegex:/(?:href="(?<url>[^"]+)"|onclick="read_tz\((?<id>\d+)\)[^"]*")[^>]*>(?<name>[^<]+)</g},{...b,clientOptions:d,pageSize:h,totalPagesRegex:/value="\/book\/\d+\/(?<totalPages>\d+)\/"[^>]*>第\d+-\d+章<\/option>\s*<\/select>/,totalPagesOffset:1,urlBuilder:b=>`https://www.qudushu.cc/book/${a}/${b}.html`,preprocess:a=>{e=a.subRegex(/og:novel:latest_chapter_url" content="[^"]*\/book\/\d+\/(\d+)\.html"/);for(let b of a.subRegexAll(/\.ycxsid>li:nth-child\((\d+)\){display:none}/g))f.push(parseInt(b));for(let b of a.subRegexAll(/\.ycxsid>li:nth-last-child\((\d+)\){display:none}/g))g.push(parseInt(b));return a}}).then(a=>{if(e&&1===a.paginate.pageNo&&1===a.paginate.totalPages&&a.catalog.length===h&&a.catalog[a.catalog.length-1]!==e&&(a.paginate.totalPages=2),0<f.length)for(let b of f)a.catalog[b-1]=null;if(0<g.length){let b=a.catalog.length;for(let c of g)a.catalog[b-c]=null;}return (0<f.length||0<g.length)&&(a.catalog=a.catalog.filter(a=>null!=a)),a})};