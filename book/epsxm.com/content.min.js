exports=async function(a,b,c,d){const{collectLines:e,breakPunchMerger:f,isBreakPunch:g}=await require("transcode/parse_content"),h=require("url"),{send:i}=require("http");let j=await i(a,d?.clientOptions);assertOK(j);let k=j.body;const l=parseInt(k.subRegex(/（\d+\s*\/\s*(\d+)）<\/p>/));if(!l)return null;const m=new h(a),n=m.resolve("/api/reader_js.php"),o=[];for(let h=0;h<l;h++){j=await i({url:n,method:"POST",body:`articleid=${b}&chapterid=${c}&pid=${h+1}`,headers:{"X-Requested-With":"XMLHttpRequest",Referer:a,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),assertOK(j);const d=[];e(j.body,d),f(o,d,g),await delay(1e3);}return formatBookContent(o)};