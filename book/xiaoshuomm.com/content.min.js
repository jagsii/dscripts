exports=async function(url,bid,cid,options){const{parseContentPaginate,getLinkElement}=await require("transcode/parse_content"),replaceFont=await require("transcode/font_map");return parseContentPaginate(page=>1===page?url:url.replace(".html",`_${page}.html`),"#chaptercontent",{clientOptions:{...(options&&options.clientOptions)},hasNextFn:html=>null!=/\/\d+_\d+\.html/.exec(getLinkElement(html,"id=\"next_url\"")),transformer:f=>f.replace(/<p>《[^》]+》转载请[^<]+<\/p>/,"").replace(/<p>(本章未完，请点|[^<]+提示您：看后)[^<]+<\/p>[\s　]*$/,""),preprocess:h=>replaceFont(h,/<i>&#x([a-f0-9]{4});?<\/i>/g)})};