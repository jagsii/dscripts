exports=async function(a,b,d,e){const{send:f}=require("http"),{retry:g}=await require("book/jieyues.com/common"),h={url:a},i={...(e&&e.clientOptions),encoding:"utf-8","x-mobile":1};stat("request");let j=await f(h,i);if(stat("request"),200!=j.statusCode)throw new Error(j.reasonPhrase);for(let c=0;!0===(await g(j,h,i,c))&&3>c++;)j=await f(h,i);if(200>j.statusCode||299<j.statusCode)throw new Error(`Request failed with statusCode ${j.statusCode}, ${j.reasonPhrase}`);let k=j.body;const l=require("utils/absolute_url");if(j=await f(l(/initTxt\("([^"]+)"/.exec(k)[1],a),i),200!=j.statusCode)throw new Error(j.reasonPhrase);const m={"":"_0x0001","":"_0x0002","":"_0x0003","":"_0x0004","":"_0x0005","":"_0x0006","":"_0x0007","":"_0x0008"},n=/_txt_call\((.+)\);?$/.exec(j.body.trim())[1].replace(/[\u0001\u0002\u0003\u0004\u0005\u0006\u0007\u0008]/g,a=>m[a]),o=JSON.parse(n),p=o.replace;let q=o.content;for(let c in p)p.hasOwnProperty(c)&&(q=q.replaceAll(p[c],c));return q.split(/\s{2,}|<\/ ?p>/).map(a=>a.replace("<p>","").trim()).filter(a=>0<a.length)};