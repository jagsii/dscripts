exports=async function(a,b,c,d){const e={...(d&&d.clientOptions)},{send:f}=require("http"),g=require("url");let h=await f(a,e);assertOK(h);let i=h.body;const j=i.subRegexMap(/meta name="_b" content="(?<b>[^"]*)"|meta name="_p" content="(?<p>[^"]*)"|meta name="_c" content="(?<c>[^"]*)"/g);if(j.b===void 0||j.p===void 0)return null;var k=Math.round(new Date().getTime()/1e3).toString(),l={};l.sc=/meta name="_c" content="(?<c>[^"]*)"/.exec(i)[1];const m=(await getHtml("https://pv.jfxianhuo.com/cityjson")).subRegex(/"cip"\s*:\s*"([^"]+)"/);l.dt=function(a){for(var b=Math.trunc,c="",d=0;d<a.length;d++){var e="PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c".indexOf(a[d]),f=-1==e?a[d]:"PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[(e+3)%62],g=b(62*Math.random()),h=b(62*Math.random());c+="PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[g]+f+"PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[h];}return c}(j.b+"T"+j.p+"T"+k+"T"+m);const n=new g(a);h=await f({url:n.resolve("/api/act/play"),method:"POST",body:`nid=${j.b}&cid=${j.p}`,headers:{...l,Accept:"application/json",Referer:a,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),assertOK(h);const o=JSON.parse(h.body);return {url:o.url}};