exports=async function(url,bid,cid,options){const clientOptions={...(options&&options.clientOptions)},{send}=require("http"),URL=require("url");let response=await send(url,clientOptions);assertOK(response);let html=response.body;const args=html.subRegexMap(/meta name="_b" content="(?<b>[^"]*)"|meta name="_p" content="(?<p>[^"]*)"|meta name="_c" content="(?<c>[^"]*)"/g);if(args.b===void 0||args.p===void 0)return null;var _0x5ac140=Math.round(new Date().getTime()/1e3).toString(),_0x5cad3e={};_0x5cad3e.sc=/meta name="_c" content="(?<c>[^"]*)"/.exec(html)[1];const cip=(await getHtml("https://pv.jfxianhuo.com/cityjson")).subRegex(/"cip"\s*:\s*"([^"]+)"/);_0x5cad3e.dt=function(_0x3db936){for(var _Mathtrunc=Math.trunc,_0xb2df50="",_0x11c212=0;_0x11c212<_0x3db936.length;_0x11c212++){var _0x1e84d6="PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c".indexOf(_0x3db936[_0x11c212]),_0x542a91=-1==_0x1e84d6?_0x3db936[_0x11c212]:"PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[(_0x1e84d6+3)%62],_0x59aba6=_Mathtrunc(62*Math.random()),_0x3e974e=_Mathtrunc(62*Math.random());_0xb2df50+="PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[_0x59aba6]+_0x542a91+"PXhw7U1B0a9kQDKZsTjIASmOeNzxYG4CHo1JyRfg2b8FLpEvr3FtVnlqMidu6c"[_0x3e974e];}return _0xb2df50}(args.b+"T"+args.p+"T"+_0x5ac140+"T"+cip);const uri=new URL(url);response=await send({url:uri.resolve("/api/act/play"),method:"POST",body:`nid=${args.b}&cid=${args.p}`,headers:{..._0x5cad3e,Accept:"application/json",Referer:url,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),assertOK(response);const json=JSON.parse(response.body);return {url:json.url}};