exports=async function(a,b,c,d){var e=Math.trunc;function f(a){return p.MD5(a).toString(p.enc.Hex)}function g(){var a=new Date().getTime();return e(a/1e3)}function h(a){var b=new Date().getTime(),c=e(b/1e3);return a?b/1e3:(b-1e3*c)/1e3+" "+c}function i(a){return String.fromCharCode(a)}function j(a){return a.charCodeAt()}const k={...(d&&d.clientOptions)};stat("request");const{send:l}=require("http");let m=await l(a,k);stat("request"),assertOK(m);let n=m.body;const o=n.subRegexMap(/now\s*=\s*decodeURIComponent\(authcode\(base64_decode\("(?<a>[^'"]+)"\),'(?<b>[^'"]+)',"(?<c>[^'"]+)"\)\)/),p=(await require("third-party/crypto-js"))(["md5"]),q=decodeURIComponent(function(a,b,c,d){var b=b?b:"DECODE",c=c?c:"",d=d?d:0;c=f(c);var e=f(c.substr(0,16)),k=f(c.substr(16,16));var l;if("DECODE"==b)l=a.substr(0,4);else {var m=f(h()),n=m.length-4;l=m.substr(n,4);}var o,p=e+f(e+l);if("DECODE"==b)a=a.substr(4),o=atob(a);else {d=d?d+g():0;var q=d.toString();if(10<=q.length)a=q.substr(0,10)+f(a+k).substr(0,16)+a;else {for(var r=10-q.length,s=0;s<r;s++)q="0"+q;a=q+f(a+k).substr(0,16)+a;}o=a;}for(var t=Array(256),s=0;256>s;s++)t[s]=s;for(var u=[],s=0;256>s;s++)u[s]=p.charCodeAt(s%p.length);for(var v=s=0;256>s;s++){v=(v+t[s]+u[s])%256;var w=t[s];t[s]=t[v],t[v]=w;}var x="";o=o.split("");for(var y=v=s=0;s<o.length;s++){y=(y+1)%256,v=(v+t[y])%256;var w=t[y];t[y]=t[v],t[v]=w,x+=i(j(o[s])^t[(t[y]+t[v])%256]);}if("DECODE"==b)x=(0==x.substr(0,10)||0<x.substr(0,10)-g())&&x.substr(10,16)==f(x.substr(26)+k).substr(0,16)?x.substr(26):"";else {x=btoa(x);x=x.replace(/=/g,""),x=l+x;}return x}(atob(o.a),o.b,o.c));return {url:q}};