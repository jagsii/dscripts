exports=async function(url,bid,cid,options){const clientOptions={...(options&&options.clientOptions)},{send}=require("http");let response=await send(url,clientOptions);assertOK(response);let html=response.body;const URL=require("url"),uri=new URL(url),come=html.subRegex(/data-come="([^"]*)"/),url2=uri.resolve(`/audio-iframe.php?come=${encodeURIComponent(come)}`);response=await send({url:url2,headers:{referer:url}},clientOptions),assertOK(response),html=response.body;const lalalala=html.subRegex(/data-info="([^"]*)"/).substring(0,5);var x=uri.pathname.substring(1).split("/"),T=x[1],b=x[2];const time=new Date().getTime(),md5=require("crypto/md5"),hexEncode=require("crypto/hex/encode"),sign=hexEncode(md5(time+T+b+(lalalala+"FSKVKSKFKS")));response=await send({url:uri.resolve(`/web/index/video_new?code=${encodeURIComponent(T)}&no=${encodeURIComponent(b)}&type=0&timestamp=${time}&sign=${sign}`),headers:{"x-requested-with":"XMLHttpRequest",referer:url2}},clientOptions),assertOK(response),html=response.body;const json=JSON.parse(html);if(json.data&&json.data.videoUrl){let videoUrl=json.data.videoUrl;if(-1<videoUrl.indexOf("ysts8.com")){var y=videoUrl.substring(7),g=y.split("/"),w=g[0].replace(/180/g,"177"),UU=w.replace(/ysts8.com/g,"5txs.net");g.splice(0,1);var _=g.join("/"),j="http://"+UU+"/"+_;-1<j.indexOf("\u7504\uFFFD\u6267\uFFFD")?j=j.replace("\u7504\uFFFD\u6267\uFFFD","\u7504\u5B1B\u4F20"):-1<j.indexOf("\u30FB")&&(j=j.replace("\u30FB","\xB7")),videoUrl=j;}else if(-1<videoUrl.indexOf("kiohhb.meiwenfen.com"))videoUrl=videoUrl.replace(/kiohhb/g,"kiohhbf");else if(-1<videoUrl.indexOf("meiwenfen.com"))videoUrl=videoUrl.replace(/tingmp3/g,"tingmp33");else if(-1<videoUrl.indexOf("5txs.net:8000")){var D=videoUrl.replace(/http:/g,"https:");videoUrl=D.replace(/5txs.net:8000/g,"tt56w.com");}else if(-1<videoUrl.indexOf("tt56w.com:8000")){var q=videoUrl.replace(/http:/g,"https:");videoUrl=q.replace(/tt56w.com:8000/g,"tt56w.com");}else -1<videoUrl.indexOf("tt56w.com")?videoUrl=videoUrl.replace(/http:/g,"https:"):-1<videoUrl.indexOf("\u7504\uFFFD\u6267\uFFFD")?videoUrl=videoUrl.replace("\u7504\uFFFD\u6267\uFFFD","\u7504\u5B1B\u4F20"):-1<videoUrl.indexOf("\u30FB")&&(videoUrl=videoUrl.replace("\u30FB","\xB7"));return {url:videoUrl,headers:{referer:url2}}}return null};