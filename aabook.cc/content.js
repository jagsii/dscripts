exports=async function(a,b,c,d){const{parseContent:e}=await require("transcode/parse_content"),{send:f}=require("http"),g={encoding:"utf-8",...(d&&d.clientOptions)};stat("request");let h=await f({url:a},g);stat("request"),assertOK(h);let i=h.body,j=i.subRegex(/function ajaxGetContent\(chapid\) {\s*\$\.get\("([^,]+)",/);if(!j)return null;const k={referer:a,"x-requested-with":"XMLHttpRequest"};let l=h.headers["set-cookie"];l&&(k.cookie=l.split(";")[0].trim()),j=j.replace("\"+chapid+\"",c);const m=require("utils/absolute_url");return j=m(j,a),e(j,/(?<fragment>(?:\s*<p>[^<]+<\/p>)+)/,{clientOptions:g,httpOptions:{headers:k},preprocess:a=>a.replace(/<[^p][a-z]*[^>]*>[^<]*<\/[^p][a-z]*>/g,"")})};