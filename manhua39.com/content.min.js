exports=async function(a,b,c,d){const{send:e}=require("http"),f={...(d&&d.clientOptions),encoding:"utf-8","x-mobile":0};stat("request");let g=await e(a.replace("//m.","//www."),f);stat("request");let h;503===g.statusCode&&g.headers["set-cookie"]?h=await require("webview_fetch")(a,{mobile:1===f["x-mobile"]}):(assertOK(g),h=g.body);const{chapterImages:i,chapterPath:j}=h.subRegexMap(/var chapterImages = (?<chapterImages>\[[^\]]+\]);var chapterPath\s*=\s*"(?<chapterPath>[^"]*)";/),k=JSON.parse(i),l="https://res.manhua39.com",m=k.map(a=>void 0===a?l+"/images/default/common.png":a.match(/^https?:\/\/(images.dmzj.com|imgsmall.dmzj.com)/i)?l+"/showImage.php?url="+encodeURI(a):a.match(/^[a-z]\//i)?l+"/showImage.php?url="+encodeURI("https://images.dmzj.com/"+a):a.match(/^(http:|https:|ftp:|^)\/\//i)?a:a.match(/^(\/|images?)/i)?l+"/"+a.replace(/^\//,""):l+"/"+(j.replace(/\/$/,"")+"/"+a.ltrim("/")).replace(/^\//,""));return {urls:m}};