exports=async function(a,b,c,d){const e={...(d&&d.clientOptions),encoding:"utf-8","x-mobile":0},{send:f}=require("http"),g=require("url"),[h,i]=a.split("#"),[j,k]=i.split("|");if(k.startsWith("https"))return {url:k};let l=await f({url:new g("/url.php",h).toString(),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded",Referer:h},body:`url=${encodeURIComponent(k)}&sign=${encodeURIComponent(parseInt(j)+k.length+"")}`},e);assertOK(l);let m=l.body;return {url:m.trim()}};