exports=async function(bid,options){const url=`http://028feiyu.com/fui/${bid}.html`,clientOptions={...(options&&options.clientOptions),encoding:"utf-8","x-mobile":0},{send}=require("http");let response=await send(url,clientOptions);assertOK(response);let html=response.body;const routes=html.subIndexOf(/播放地址\s*<\/h3>/).toIndexOf("</ul>").subRegexAll(/>([^<]+)<\/a>/g),URL=require("url"),uri=new URL(url),catalogList=html.subIndexOf("class=\"myui-content__list").toIndexOf(/<\/div>\s*<\/div>\s*<\/div>/).split("class=\"myui-content__list").map(_=>_.toIndexOf("</ul>").subRegexMapAll(/href="(?<url>[^"]+)"[^>]*>(?<name>[^<]+)<\/a>\s*<\/li>/g).map(c=>(c.id=c.url.subRegex(/-(\d+)\.html/),c.url=uri.resolve(c.url),c)).filter(c=>c.name!==void 0&&c.url!==void 0)).filter(_=>0<_.length),catalogs=[];for(let i=0;i<routes.length;i++)catalogs.push({route:catalogList[i].first.url.subRegex(/\/\d+-(\d+)-\d+\.html/),name:routes[i],catalog:catalogList[i]});return formatCatalog({type:"routed",catalogs})};